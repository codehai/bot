<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="jquery.js"></script>
        <script src="randexp.min.js"></script>
    </head>
    <body style="position:absolute;width:100%;height:100%">
    <div style="height:30%">
        <textarea id="1" style="width:98%;height:98%"></textarea>
    </div>
    <button style="width:30%;height:44px;">生成</button><span>数量</span><input>
    <a href="javascript:(function(){var%20s=document.createElement('div');s.innerHTML='Loading...';s.style.color='black';s.style.padding='20px';s.style.position='fixed';s.style.zIndex='9999';s.style.fontSize='3.0em';s.style.border='2px%20solid%20black';s.style.right='40px';s.style.top='40px';s.setAttribute('class','selector_gadget_loading');s.style.background='white';document.body.appendChild(s);s=document.createElement('script');s.setAttribute('type','text/javascript');s.setAttribute('src','selectorgadget.js');document.body.appendChild(s);})();" class="">SelectorGadget</a>
    <div style="height:50%">
      <textarea id="2" style="width:98%;height:98%"></textarea>
    </div>   
    </body>
    <script type="text/javascript">
     $(document).on('click','button',function () {
        var num = $('input').val() | 1;
        console.log('11111111111');
        var exp = $('#1').val();
        console.log(exp);
        console.log(num);
        var  string ='';
        for(var i=0;i<num;i++){
            var result = new RandExp(exp).gen();
            console.log(num);
            string = string + result + '\n';
            $('#2').text(string);
        }
     })

     the_log=[];
(function(){
    var types = [ 
        "mousedown", "mouseup", "click", "dblclick", "mousemove", "mouseover", "mouseout", "mousewheel",
        "keydown", "keyup", "keypress", "textInput",
        "touchstart", "touchmove", "touchend", "touchcancel",
        "resize", "scroll", "zoom", "focus", "blur", "select", "change", "submit", "reset",
        "load", "unload", "abort", "error", "search", "devicemotion", "deviceorientation",
        "DOMFocusIn", "DOMFocusOut", "DOMActivate",
        "DOMSubtreeModified",
        "DOMNodeInserted",
        "DOMNodeRemoved",
        "DOMNodeRemovedFromDocument",
        "DOMNodeInsertedIntoDocument",
        "DOMAttrModified",
        "DOMCharacterDataModified"
        ];
    var f = function(e){
        the_log.push(e);
        //console.log(e);
    };
    var object = document;
    for (var i = 0; i < types.length; ++i) {
        //object.removeEventListener(types[i], f, false);
        object.addEventListener(types[i], f, false);
    }

    /*var add = function(element,eventName,callback){ };
    var before = null;
    var after = null;
    var aEL = HTMLElement.prototype.addEventListener;

    HTMLElement.prototype.addEventListener = function(eventName, callback) {
        add.apply(this, arguments);

        aEL.apply(this, [eventName, function() {
            if (before) {
                before.apply(this, arguments);
            }

            callback.apply(this, arguments);

            if (after) {
                after.apply(this, arguments);
            }
        }]);
    }*/

})();

    </script>
</html>